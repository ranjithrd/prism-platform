{"openapi":"3.1.0","info":{"title":"Prism Platform API","description":"API for managing traces, configurations, devices, and queries","version":"1.0.0"},"paths":{"/v1/api/hosts":{"get":{"tags":["hosts"],"summary":"Get Hosts","description":"Get all hosts","operationId":"get_hosts_v1_api_hosts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/HostWithStatus"},"type":"array","title":"Response Get Hosts V1 Api Hosts Get"}}}}}}},"/v1/api/hosts/":{"post":{"tags":["hosts"],"summary":"Add Host","description":"Add a new host","operationId":"add_host_v1_api_hosts__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddHostRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/hosts/{host_id}/key":{"post":{"tags":["hosts"],"summary":"Generate Key","description":"Generate and set a new key for the host","operationId":"generate_key_v1_api_hosts__host_id__key_post","parameters":[{"name":"host_id","in":"path","required":true,"schema":{"type":"string","title":"Host Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateHostKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/hosts/{host_id}/delete":{"post":{"tags":["hosts"],"summary":"Delete Host","description":"Delete a host by ID","operationId":"delete_host_v1_api_hosts__host_id__delete_post","parameters":[{"name":"host_id","in":"path","required":true,"schema":{"type":"string","title":"Host Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/devices":{"get":{"tags":["devices"],"summary":"Get Devices","description":"Get all devices with status information","operationId":"get_devices_v1_api_devices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Device"},"type":"array","title":"Response Get Devices V1 Api Devices Get"}}}}}},"post":{"tags":["devices"],"summary":"Create Device","description":"Create a new device","operationId":"create_device_v1_api_devices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Device"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/devices/{device_id}/edit":{"post":{"tags":["devices"],"summary":"Edit Device","description":"Edit an existing device","operationId":"edit_device_v1_api_devices__device_id__edit_post","parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","title":"Device Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Device"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/devices/{device_id}/delete":{"post":{"tags":["devices"],"summary":"Delete Device","description":"Delete a device","operationId":"delete_device_v1_api_devices__device_id__delete_post","parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/configurations":{"get":{"tags":["configurations"],"summary":"Get Configurations","description":"Get all configurations","operationId":"get_configurations_v1_api_configurations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Config"},"type":"array","title":"Response Get Configurations V1 Api Configurations Get"}}}}}},"post":{"tags":["configurations"],"summary":"Create Configuration","description":"Create a new configuration","operationId":"create_configuration_v1_api_configurations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/configurations/{config_id}":{"get":{"tags":["configurations"],"summary":"Get Configuration","description":"Get a specific configuration","operationId":"get_configuration_v1_api_configurations__config_id__get","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/configurations/{config_id}/edit":{"post":{"tags":["configurations"],"summary":"Edit Configuration","description":"Edit an existing configuration","operationId":"edit_configuration_v1_api_configurations__config_id__edit_post","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/configurations/{config_id}/delete":{"post":{"tags":["configurations"],"summary":"Delete Configuration","description":"Delete a configuration","operationId":"delete_configuration_v1_api_configurations__config_id__delete_post","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/configurations/{config_id}/traces":{"get":{"tags":["configurations"],"summary":"Get Configuration Traces","operationId":"get_configuration_traces_v1_api_configurations__config_id__traces_get","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}},{"name":"n","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Number of traces to return","title":"N"},"description":"Number of traces to return"},{"name":"devices","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated device IDs","title":"Devices"},"description":"Comma-separated device IDs"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/src__api__configurations__TraceWithDevice"},"title":"Response Get Configuration Traces V1 Api Configurations  Config Id  Traces Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/traces":{"get":{"tags":["traces"],"summary":"Get Traces","description":"Get all traces with filtering and sorting","operationId":"get_traces_v1_api_traces_get","parameters":[{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Field to sort by","title":"Sort By"},"description":"Field to sort by"},{"name":"device_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by device ID","title":"Device Id"},"description":"Filter by device ID"},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Limit number of results","title":"Limit"},"description":"Limit number of results"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/src__api__traces__TraceWithDevice"},"title":"Response Get Traces V1 Api Traces Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["traces"],"summary":"Create Trace","description":"Create/upload a new trace. Accepts form-data with a file upload and metadata.\n\nThis endpoint is intentionally implemented with Form and File parameters\nto ensure full OpenAPI compatibility for auto-generated clients on the frontend.","operationId":"create_trace_v1_api_traces_post","requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_trace_v1_api_traces_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraceDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/traces/{trace_id}":{"get":{"tags":["traces"],"summary":"Get Trace","description":"Get a specific trace","operationId":"get_trace_v1_api_traces__trace_id__get","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraceDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/traces/{trace_id}/edit":{"post":{"tags":["traces"],"summary":"Edit Trace","description":"Edit trace metadata","operationId":"edit_trace_v1_api_traces__trace_id__edit_post","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraceDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/traces/{trace_id}/delete":{"post":{"tags":["traces"],"summary":"Delete Trace","description":"Delete a trace","operationId":"delete_trace_v1_api_traces__trace_id__delete_post","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/traces/{trace_id}/html-report":{"get":{"tags":["traces"],"summary":"Get Html Report","description":"Get the HTML report for a simpleperf trace (for iframe embedding)","operationId":"get_html_report_v1_api_traces__trace_id__html_report_get","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/traces/{trace_id}/html-report-download":{"get":{"tags":["traces"],"summary":"Download Html Report","description":"Download the HTML report for a simpleperf trace","operationId":"download_html_report_v1_api_traces__trace_id__html_report_download_get","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/queries":{"get":{"tags":["queries"],"summary":"Get Queries","description":"Get all queries","operationId":"get_queries_v1_api_queries_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Query"},"type":"array","title":"Response Get Queries V1 Api Queries Get"}}}}}},"post":{"tags":["queries"],"summary":"Create Query","description":"Create a new query","operationId":"create_query_v1_api_queries_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Query"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/queries/{query_id}":{"get":{"tags":["queries"],"summary":"Get Query","description":"Get a specific query","operationId":"get_query_v1_api_queries__query_id__get","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Query"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/queries/{query_id}/edit":{"post":{"tags":["queries"],"summary":"Edit Query","description":"Edit an existing query","operationId":"edit_query_v1_api_queries__query_id__edit_post","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Query"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/queries/{query_id}/delete":{"post":{"tags":["queries"],"summary":"Delete Query","description":"Delete a query","operationId":"delete_query_v1_api_queries__query_id__delete_post","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/results/{trace_id}/{query_id}/export":{"get":{"tags":["results"],"summary":"Export Result","description":"Export query results in various formats","operationId":"export_result_v1_api_results__trace_id___query_id__export_get","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}},{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}},{"name":"file_format","in":"query","required":true,"schema":{"enum":["csv","tsv","json"],"type":"string","description":"Export format","title":"File Format"},"description":"Export format"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/results/{trace_id}/{query_id}/datatables":{"get":{"tags":["results"],"summary":"Get Datatables Result","description":"Get query results formatted for DataTables","operationId":"get_datatables_result_v1_api_results__trace_id___query_id__datatables_get","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}},{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/results/{trace_id}/{query_id}/json":{"get":{"tags":["results"],"summary":"Get Json Result","description":"Get query results as JSON","operationId":"get_json_result_v1_api_results__trace_id___query_id__json_get","parameters":[{"name":"trace_id","in":"path","required":true,"schema":{"type":"string","title":"Trace Id"}},{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/requests":{"post":{"tags":["requests"],"summary":"Create Job Request","description":"Create a new job request","operationId":"create_job_request_v1_api_requests_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobRequestCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/requests/{job_id}":{"get":{"tags":["requests"],"summary":"Get Job Request","description":"Get job request details","operationId":"get_job_request_v1_api_requests__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/requests/{job_id}/stream":{"get":{"tags":["requests"],"summary":"Stream Job Updates","description":"Server-Sent Events stream for job updates","operationId":"stream_job_updates_v1_api_requests__job_id__stream_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/group_results/{query_id}/export":{"get":{"tags":["group_results"],"summary":"Export Result","description":"Export query results in various formats","operationId":"export_result_v1_api_group_results__query_id__export_get","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}},{"name":"trace_ids","in":"query","required":true,"schema":{"type":"string","description":"Comma-separated Trace IDs","title":"Trace Ids"},"description":"Comma-separated Trace IDs"},{"name":"file_format","in":"query","required":true,"schema":{"enum":["csv","tsv","json"],"type":"string","description":"Export format","title":"File Format"},"description":"Export format"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/group_results/{query_id}/datatables":{"get":{"tags":["group_results"],"summary":"Get Datatables Result","description":"Get query results formatted for DataTables","operationId":"get_datatables_result_v1_api_group_results__query_id__datatables_get","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}},{"name":"trace_ids","in":"query","required":true,"schema":{"type":"string","description":"Comma-separated Trace IDs","title":"Trace Ids"},"description":"Comma-separated Trace IDs"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/group_results/{query_id}/json":{"get":{"tags":["group_results"],"summary":"Get Json Result","description":"Get query results as JSON","operationId":"get_json_result_v1_api_group_results__query_id__json_get","parameters":[{"name":"query_id","in":"path","required":true,"schema":{"type":"string","title":"Query Id"}},{"name":"trace_ids","in":"query","required":true,"schema":{"type":"string","description":"Comma-separated Trace IDs","title":"Trace Ids"},"description":"Comma-separated Trace IDs"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/jobs/pending":{"get":{"tags":["worker"],"summary":"Get Pending Jobs","description":"Fetch pending job-device pairs for worker processing.","operationId":"get_pending_jobs_v1_api_worker_jobs_pending_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PendingJob"},"title":"Response Get Pending Jobs V1 Api Worker Jobs Pending Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/configs/{config_id}":{"get":{"tags":["worker"],"summary":"Get Config","description":"Fetch configuration by ID.","operationId":"get_config_v1_api_worker_configs__config_id__get","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/devices/by-serial/{device_serial}":{"get":{"tags":["worker"],"summary":"Get Device By Serial","description":"Fetch device by serial (device_uuid or device_id).","operationId":"get_device_by_serial_v1_api_worker_devices_by_serial__device_serial__get","parameters":[{"name":"device_serial","in":"path","required":true,"schema":{"type":"string","title":"Device Serial"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/devices":{"get":{"tags":["worker"],"summary":"Get Devices","description":"Fetch all devices.","operationId":"get_devices_v1_api_worker_devices_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["worker"],"summary":"Create Device","description":"Create a new device.","operationId":"create_device_v1_api_worker_devices_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/devices/{device_id}":{"put":{"tags":["worker"],"summary":"Update Device","description":"Update an existing device.","operationId":"update_device_v1_api_worker_devices__device_id__put","parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","title":"Device Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/traces":{"post":{"tags":["worker"],"summary":"Create Trace","description":"Create a trace record.","operationId":"create_trace_v1_api_worker_traces_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraceCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraceCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/jobs/{job_id}/status":{"post":{"tags":["worker"],"summary":"Update Job Status","description":"Update job status.","operationId":"update_job_status_v1_api_worker_jobs__job_id__status_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatusUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/jobs/{job_id}/updates":{"post":{"tags":["worker"],"summary":"Add Job Update","description":"Record a job progress update for a specific device.","operationId":"add_job_update_v1_api_worker_jobs__job_id__updates_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobProgressUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/job-devices/status":{"post":{"tags":["worker"],"summary":"Update Job Device Status","description":"Update the status of a specific job-device pair.","operationId":"update_job_device_status_v1_api_worker_job_devices_status_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobDeviceStatusUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/api/worker/storage/upload":{"post":{"tags":["worker"],"summary":"Upload File","description":"Upload a file to MinIO storage.\n\nThe file bytes should be sent as the raw request body.\nQuery params: bucket, object_name","operationId":"upload_file_v1_api_worker_storage_upload_post","parameters":[{"name":"bucket","in":"query","required":true,"schema":{"type":"string","title":"Bucket"}},{"name":"object_name","in":"query","required":true,"schema":{"type":"string","title":"Object Name"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"AddHostRequest":{"properties":{"host_name":{"type":"string","title":"Host Name"}},"type":"object","required":["host_name"],"title":"AddHostRequest"},"Body_create_trace_v1_api_traces_post":{"properties":{"trace_name":{"type":"string","title":"Trace Name"},"trace_file":{"type":"string","format":"binary","title":"Trace File"},"trace_timestamp":{"type":"string","format":"date-time","title":"Trace Timestamp"},"configuration_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Id"},"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"}},"type":"object","required":["trace_name","trace_file","trace_timestamp"],"title":"Body_create_trace_v1_api_traces_post"},"Config":{"properties":{"config_id":{"type":"string","title":"Config Id"},"config_name":{"type":"string","title":"Config Name"},"config_text":{"type":"string","title":"Config Text"},"tracing_tool":{"type":"string","title":"Tracing Tool"},"default_duration":{"type":"integer","title":"Default Duration"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","title":"Config"},"ConfigCreate":{"properties":{"config_name":{"type":"string","title":"Config Name"},"config_text":{"type":"string","title":"Config Text"},"tracing_tool":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tracing Tool"},"default_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Default Duration","default":10}},"type":"object","required":["config_name","config_text"],"title":"ConfigCreate"},"ConfigResponse":{"properties":{"config_id":{"type":"string","title":"Config Id"},"config_name":{"type":"string","title":"Config Name"},"config_text":{"type":"string","title":"Config Text"},"tracing_tool":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tracing Tool"},"default_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Default Duration"}},"type":"object","required":["config_id","config_name","config_text"],"title":"ConfigResponse"},"ConfigUpdate":{"properties":{"config_name":{"type":"string","title":"Config Name"},"config_text":{"type":"string","title":"Config Text"},"tracing_tool":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tracing Tool"},"default_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Default Duration","default":10}},"type":"object","required":["config_name","config_text"],"title":"ConfigUpdate"},"Device":{"properties":{"device_id":{"type":"string","title":"Device Id"},"device_name":{"type":"string","title":"Device Name"},"device_uuid":{"type":"string","title":"Device Uuid"},"last_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Status"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host"}},"type":"object","title":"Device"},"DeviceCreate":{"properties":{"device_name":{"type":"string","title":"Device Name"},"device_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Uuid"}},"type":"object","required":["device_name"],"title":"DeviceCreate"},"DeviceCreateRequest":{"properties":{"device_id":{"type":"string","title":"Device Id"},"device_name":{"type":"string","title":"Device Name"},"device_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Uuid"},"last_seen":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Seen"},"last_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Status"},"host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host"}},"type":"object","required":["device_id","device_name"],"title":"DeviceCreateRequest"},"DeviceResponse":{"properties":{"device_id":{"type":"string","title":"Device Id"},"device_name":{"type":"string","title":"Device Name"},"device_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Uuid"}},"type":"object","required":["device_id","device_name"],"title":"DeviceResponse"},"DeviceUpdate":{"properties":{"device_name":{"type":"string","title":"Device Name"},"device_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Uuid"}},"type":"object","required":["device_name"],"title":"DeviceUpdate"},"DeviceUpdateRequest":{"properties":{"device_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Name"},"device_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Uuid"},"last_seen":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Seen"},"last_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Status"},"host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host"}},"type":"object","title":"DeviceUpdateRequest"},"GenerateHostKeyResponse":{"properties":{"status":{"type":"string","title":"Status"},"host_name":{"type":"string","title":"Host Name"},"host_key":{"type":"string","title":"Host Key"}},"type":"object","required":["status","host_name","host_key"],"title":"GenerateHostKeyResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HostWithStatus":{"properties":{"host_name":{"type":"string","title":"Host Name"},"host_type":{"type":"string","title":"Host Type"},"host_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host Key"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"status":{"type":"string","title":"Status"}},"type":"object","required":["status"],"title":"HostWithStatus"},"JobDeviceStatusUpdate":{"properties":{"job_device_id":{"type":"string","title":"Job Device Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["job_device_id","status"],"title":"JobDeviceStatusUpdate"},"JobProgressUpdate":{"properties":{"device_id":{"type":"string","title":"Device Id"},"status":{"type":"string","title":"Status"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"}},"type":"object","required":["device_id","status"],"title":"JobProgressUpdate"},"JobRequestCreate":{"properties":{"config_id":{"type":"string","title":"Config Id"},"devices":{"items":{"type":"string"},"type":"array","title":"Devices"},"duration":{"type":"integer","title":"Duration"}},"type":"object","required":["config_id","devices","duration"],"title":"JobRequestCreate"},"JobRequestResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"config_id":{"type":"string","title":"Config Id"},"device_serials":{"items":{"type":"string"},"type":"array","title":"Device Serials"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration"},"result_summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Summary"}},"type":"object","required":["job_id","config_id","device_serials","status","created_at","updated_at"],"title":"JobRequestResponse"},"JobStatusUpdate":{"properties":{"status":{"type":"string","title":"Status"},"result_summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Summary"}},"type":"object","required":["status"],"title":"JobStatusUpdate"},"PendingJob":{"properties":{"job_device_id":{"type":"string","title":"Job Device Id"},"job_id":{"type":"string","title":"Job Id"},"config_id":{"type":"string","title":"Config Id"},"device_id":{"type":"string","title":"Device Id"},"device_uuid":{"type":"string","title":"Device Uuid"},"duration":{"type":"integer","title":"Duration"},"status":{"type":"string","title":"Status"}},"type":"object","required":["job_device_id","job_id","config_id","device_id","device_uuid","duration","status"],"title":"PendingJob"},"Query":{"properties":{"query_id":{"type":"string","title":"Query Id"},"query_name":{"type":"string","title":"Query Name"},"query_text":{"type":"string","title":"Query Text"},"configuration_id":{"type":"string","title":"Configuration Id"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","title":"Query"},"QueryCreate":{"properties":{"query_name":{"type":"string","title":"Query Name"},"query_text":{"type":"string","title":"Query Text"},"configuration_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Id"}},"type":"object","required":["query_name","query_text"],"title":"QueryCreate"},"QueryUpdate":{"properties":{"query_name":{"type":"string","title":"Query Name"},"query_text":{"type":"string","title":"Query Text"},"configuration_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Id"}},"type":"object","required":["query_name","query_text"],"title":"QueryUpdate"},"TraceCreateRequest":{"properties":{"trace_id":{"type":"string","title":"Trace Id"},"trace_name":{"type":"string","title":"Trace Name"},"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"},"trace_timestamp":{"type":"string","title":"Trace Timestamp"},"trace_filename":{"type":"string","title":"Trace Filename"},"host_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host Name"},"configuration_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Id"},"trace_html_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Html Filename"}},"type":"object","required":["trace_id","trace_name","trace_timestamp","trace_filename"],"title":"TraceCreateRequest"},"TraceCreateResponse":{"properties":{"trace_id":{"type":"string","title":"Trace Id"},"trace_name":{"type":"string","title":"Trace Name"},"trace_timestamp":{"type":"string","title":"Trace Timestamp"},"trace_filename":{"type":"string","title":"Trace Filename"}},"type":"object","required":["trace_id","trace_name","trace_timestamp","trace_filename"],"title":"TraceCreateResponse"},"TraceDetail":{"properties":{"trace_id":{"type":"string","title":"Trace Id"},"trace_name":{"type":"string","title":"Trace Name"},"trace_timestamp":{"type":"string","title":"Trace Timestamp"},"trace_filename":{"type":"string","title":"Trace Filename"},"device_id":{"type":"string","title":"Device Id"},"device_name":{"type":"string","title":"Device Name"},"host_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host Name"},"trace_html_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Html Filename"},"configuration_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Id"},"configuration_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Name"},"configuration_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Type"}},"type":"object","required":["trace_id","trace_name","trace_timestamp","trace_filename","device_id","device_name"],"title":"TraceDetail"},"TraceUpdate":{"properties":{"trace_name":{"type":"string","title":"Trace Name"},"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"}},"type":"object","required":["trace_name"],"title":"TraceUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"src__api__configurations__TraceWithDevice":{"properties":{"trace_id":{"type":"string","title":"Trace Id"},"trace_name":{"type":"string","title":"Trace Name"},"trace_timestamp":{"type":"string","title":"Trace Timestamp"},"trace_filename":{"type":"string","title":"Trace Filename"},"device_id":{"type":"string","title":"Device Id"},"device_name":{"type":"string","title":"Device Name"},"host_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host Name"}},"type":"object","required":["trace_id","trace_name","trace_timestamp","trace_filename","device_id","device_name"],"title":"TraceWithDevice"},"src__api__traces__TraceWithDevice":{"properties":{"trace_id":{"type":"string","title":"Trace Id"},"trace_name":{"type":"string","title":"Trace Name"},"trace_timestamp":{"type":"string","title":"Trace Timestamp"},"trace_filename":{"type":"string","title":"Trace Filename"},"device_id":{"type":"string","title":"Device Id"},"device_name":{"type":"string","title":"Device Name"},"trace_html_filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Html Filename"},"host_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host Name"},"configuration_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuration Id"}},"type":"object","required":["trace_id","trace_name","trace_timestamp","trace_filename","device_id","device_name"],"title":"TraceWithDevice"}}}}